(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.colon=b()})("undefined"==typeof self?this:self,function(){"use strict";/**
     * walk dom element
     *
     * @param {DOM}   el
     * @param {Function}   action
     * @param {Function} done
     */function a(b,c,d){function e(b){return b||0===f.length?d():void a(f.shift(),c,e)}var f=b.childNodes&&[].slice.call(b.childNodes);d=d||function(){},c=c||function(){},c(b,e)}/**
     * Converts a string into a DOM element
     *
     * @param {String} DOMString
     * @return {DOM}
     */function b(a){var b=document.implementation.createHTMLDocument();return b.body.innerHTML=a,b.body.children}function c(a,b){var c,d=0;if(Array.isArray(a)){for(c=a.length;d<c;d++)if(!1===b.call(a[d],a[d],d))return a;}else for(d in a)if(!1===b.call(a[d],a[d],d))return a;return a}function d(a){var b={},c=b.toString.call(a);return null==a?""+a:("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(a){return b["[object "+a+"]"]=a.toLowerCase()}),"object"==typeof a||"function"==typeof a?b[c]||"object":typeof a)}function e(a){var b,c,d={},e=d.toString,f=d.hasOwnProperty,g=f.toString,h=g.call(Object);return!!(a&&"[object Object]"===e.call(a))&&((b=Object.getPrototypeOf(a),!!!b)||(c=f.call(b,"constructor")&&b.constructor,"function"==typeof c&&g.call(c)===h))}/**
     * Extend object
     *
     * @method extend
     * @return {Object} object
     */function f(){var a,b,c,g,h,j,k=arguments,l=arguments[0]||{},m=1,n=arguments.length,o=!1;for("boolean"==typeof l&&(o=l,l=arguments[m]||{},m++),"object"!=typeof l&&"function"!==d(l)&&(l={}),m===n&&(l=this,m--);m<n;m++)//
if(null!==(a=k[m]))// for in source object
for(b in a)(h=l[b],g=a[b],l!=g)&&(o&&g&&(e(g)||(j=Array.isArray(g)))?(j?(j=!1,c=h&&Array.isArray(h)?h:[]):c=h&&e(h)?h:{},l[b]=f(o,c,g)):void 0!==g&&(l[b]=g));// deep clone
return l}// reference: https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/class-util.js#L7-L26
function g(a,b){if(b&&(b=b.trim()))if(a.classList)-1<b.indexOf(" ")?b.split(/\s+/).forEach(function(b){return a.classList.add(b)}):a.classList.add(b);else{var c=" "+(a.getAttribute("class")||"")+" ";0>c.indexOf(" "+b+" ")&&a.setAttribute("class",(c+b).trim())}}// reference: https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/class-util.js#L32-L61
function h(a,b){if(b&&(b=b.trim()))if(a.classList)-1<b.indexOf(" ")?b.split(/\s+/).forEach(function(b){return a.classList.remove(b)}):a.classList.remove(b),a.classList.length||a.removeAttribute("class");else{for(var c=" "+(a.getAttribute("class")||"")+" ",d=" "+b+" ";0<=c.indexOf(d);)c=c.replace(d," ");c=c.trim(),c?a.setAttribute("class",c):a.removeAttribute("class")}}function i(a){var b=j(a),c=b.reduce(function(a,b){return a+="var "+b+" = data[\""+b+"\"]; ",a},"");return new Function("data",c+"return "+a+";")}function j(a){var b=[];return a.replace(u,function(a,c){!function(a){return void 0!==a}(c)||function(a,b){return a.includes(b)}(b,c)||function(a,b){return a.includes(b)}(v,c)||b.push(c)}),b}function k(c,d){var e,g=this;return void 0===d&&(d={}),this instanceof k?void(c instanceof Node?d.template=c:"string"==typeof c?(e=b(c),c=e[0],d.template=c):"string"!=typeof c&&(d=c),this.options=f(!0,r,d),this.data=this.options.data,c=this.options.template,a(c,function(a,b){if(1===a.nodeType){var c=g.compile.elementNodes.call(g,a);return b(!1===c)}3===a.nodeType&&g.compile.textNodes.call(g,a),b()}),this.view=c,c=null):new k(c,d)}function l(a){a.view=k(a.options.template,{data:a.options.data}).view}function m(a){var b=a.options.computed;if(!b)return!1;for(var c in b){var d=b[c];"function"==typeof d&&Object.defineProperty(a.options.data,c,{get:d,enumerable:!0,configurable:!0})}}function n(a){m(a),l(a)}function o(a){return this instanceof o?void(this.options=a,n(this)):new o(a)}var p=/\{\{((?:.|\n)+?)\}\}/g,q={text:function(a){// reference: https://github.com/vuejs/vue/blob/dev/src/compiler/parser/text-parser.js#L15-L41
if(!p.test(a))return JSON.stringify(a);for(var b,c,d=[],e=p.lastIndex=0;c=p.exec(a);)b=c.index,b>e&&d.push(JSON.stringify(a.slice(e,b))),d.push(c[1].trim()),e=b+c[0].length;return e<a.length&&d.push(JSON.stringify(a.slice(e))),d.join("+")}},r={template:"",data:{}},s={identifier:{bind:":"},priority:["each"]},t={IF:{beforeUpdate:function(){this.holder=document.createComment(""+s.identifier.bind+this.name),this.node.parentNode.replaceChild(this.holder,this.node)},update:function(a){a&&this.holder.parentNode.replaceChild(this.node,this.holder)}},src:{update:function(a){this.node.setAttribute(this.name,a)}},show:{update:function(a){this.node.style.display=a?"block":"none"}},text:{update:function(a){this.node.textContent=a}},each:{beforeUpdate:function(){if(this.holder=document.createComment(""+s.identifier.bind+this.name),this.node.parentNode.replaceChild(this.holder,this.node),this.itemName="item",this.indexName="index",this.dataName=this.expression,-1!=this.expression.indexOf(" in ")){var a=/\(((?:.|\n)+?)\)/g,b=this.expression.split(" in "),c=b[0],d=b[1],e=a.exec(c);if(e){var f=e[1].split(","),g=f[0],h=f[1];h?this.indexName=h.trim():"",this.itemName=g.trim()}else this.itemName=c.trim();this.dataName=d.trim()}this.expression=this.dataName},update:function(a){var b=this;if(a&&!Array.isArray(a))return!1;var c=document.createDocumentFragment();a.map(function(a,d){var e,f=o({template:b.node.cloneNode(!0),data:(e={},e[b.itemName]=a,e[b.indexName]=d,e)});c.appendChild(f.options.template)}),this.holder.parentNode.replaceChild(c,this.holder)}},style:{update:function(a){var b=this;c(a,function(a,e){"object"===d(a)?c(a,function(a,c){return b.node.style[c]=a}):b.node.style[e]=a})}},clus:{update:function(a){var b=this;c(a,function(a,e){if("object"===d(a))c(a,function(a,c){return a?g(b.node,c):h(b.node,c)});else{var f="number"===d(e)?a:e;a?g(b.node,f):h(b.node,f)}})}},attribute:{update:function(a){this.node.setAttribute(this.attrName,a)}}},u=/"[^"]*"|'[^']*'|\.\w*[a-zA-Z$_]\w*|\w*[a-zA-Z$_]\w*:|(\w*[a-zA-Z$_]\w*)/g,v=["true","false","undefined","null","NaN","isNaN","typeof","in","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","unescape","escape","eval","isFinite","Number","String","parseFloat","parseInt"],w=function(a){void 0===a&&(a={}),"if"===a.name&&(a.name="IF"),"class"===a.name&&(a.name="clus"),Object.assign(this,a),Object.assign(this,t[this.name]),this.beforeUpdate&&this.beforeUpdate(),this.update&&this.update(i(this.expression)(this.compile.data))},x=function(a){return /\{?\{\{(.+?)\}\}\}?/g.test(a)};return k.prototype.compile={},k.prototype.compile.elementNodes=function(a){var b=this;if(a.hasAttributes()&&this.bindPriority(a))return!1;var c=[].slice.call(a.attributes);c.map(function(c){var d=c.name,e=c.value.trim();if(0===d.indexOf(s.identifier.bind)&&""!==e){var f=d.slice(s.identifier.bind.length);b.bindDirective({node:a,expression:e,name:f}),a.removeAttribute(d)}else b.bindAttribute(a,c)})},k.prototype.compile.textNodes=function(a){return""!==a.textContent.trim()&&void this.bindDirective({node:a,name:"text",expression:q.text(a.textContent)})},k.prototype.bindDirective=function(a){a.compile=this,new w(a)},k.prototype.bindAttribute=function(a,b){return!!(x(b.value)&&""!=b.value.trim())&&void this.bindDirective({node:a,name:"attribute",expression:q.text(b.value),attrName:b.name})},k.prototype.bindPriority=function(a){for(var b=0;b<s.priority.length;b++){var c=s.priority[b],d=a.getAttribute(""+s.identifier.bind+c);return!!d&&(d=d.trim(),!!d)&&(a.removeAttribute(""+s.identifier.bind+c),this.bindDirective({node:a,name:c,expression:d}),!0)}},o});
//# sourceMappingURL=colon.min.js.map
